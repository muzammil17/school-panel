(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1201:function(e,a,t){"use strict";t.r(a);var n=t(889),s=t(227),r=t(228),o=t(230),l=t(229),c=t(231),i=t(3),u=t.n(i),m=t(232),d=t(980),p=t(997),f=t(998),b=t(35),g=t(100),h=t(112),E=t.n(h),j=t(884),O=t.n(j),N=t(885),y={tag:N.l,className:E.a.string,cssModule:E.a.object},v=function(e){var a=e.className,t=e.cssModule,n=e.tag,s=Object(g.a)(e,["className","cssModule","tag"]),r=Object(N.h)(O()(a,"card-group"),t);return u.a.createElement(n,Object(b.a)({},s,{className:r}))};v.propTypes=y,v.defaultProps={tag:"div"};var w=v,T=t(953),C=t(954),R=t(999),x=t(1131),M=t(1132),k=t(1e3),P=t(1133),S=t(903),L=t(907),A=t(887),I=function(e){function a(){var e,t;Object(s.a)(this,a);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(l.a)(a)).call.apply(e,[this].concat(c)))).state={email:"",password:"",errorText:"",loading:!1},t.handleChange=function(e){var a;t.setState((a={},Object(n.a)(a,e.target.name,e.target.value),Object(n.a)(a,"errorText",""),Object(n.a)(a,e.target.name+"Error",""),a))},t.login=function(e){e.preventDefault(),t.props.history.push("/dashboard");var a=!0;if(""===t.state.email&&(t.setState({emailError:"* Email is required"}),a=!1),""===t.state.password&&(t.setState({passwordError:"* Password is required"}),a=!1),a){var n={email:t.state.email,password:t.state.password,type:"admin"};t.setState({loading:!0}),console.log(n),Object(A.a)("login","post",n).then(function(e){console.log(e),e.data&&localStorage.setItem("token",e.data.success.token),t.props.history.push("/dashboard2")}).catch(function(e){console.log(e),t.props.history.push("/dashboard2"),t.setState({loading:!1}),e.response&&(console.log(e.response),401===e.response.status&&t.setState({errorText:"* Invalid email or password"}))})}},t}return Object(c.a)(a,e),Object(r.a)(a,[{key:"render",value:function(){return u.a.createElement("div",{className:"app flex-row align-items-center"},u.a.createElement(d.a,null,u.a.createElement(p.a,{className:"justify-content-center"},u.a.createElement(f.a,{md:"6"},u.a.createElement(w,null,u.a.createElement(T.a,{className:"p-4"},u.a.createElement(C.a,null,u.a.createElement(R.a,null,u.a.createElement("h1",null,"Login"),u.a.createElement("p",{className:"text-muted"},"Sign In to your account"),u.a.createElement(x.a,null,u.a.createElement(M.a,{addonType:"prepend"},u.a.createElement(k.a,null,u.a.createElement("i",{className:"icon-user"}))),u.a.createElement(P.a,{type:"email",placeholder:"email",autoComplete:"username",name:"email",value:this.state.name,onChange:this.handleChange})),u.a.createElement("small",{style:{color:"#f86c6b"}},this.state.emailError),u.a.createElement(x.a,{className:" mt-3"},u.a.createElement(M.a,{addonType:"prepend"},u.a.createElement(k.a,null,u.a.createElement("i",{className:"icon-lock"}))),u.a.createElement(P.a,{type:"password",placeholder:"Password",autoComplete:"current-password",name:"password",value:this.state.password,onChange:this.handleChange})),u.a.createElement("small",{style:{color:"#f86c6b"}},this.state.passwordError),""!==this.state.errorText&&u.a.createElement(S.a,{color:"danger",className:"mt-3"},this.state.errorText),u.a.createElement(p.a,{className:"mt-4"},u.a.createElement(f.a,{xs:"6"},this.state.loading?u.a.createElement(L.a,{color:"primary",className:"px-4"},u.a.createElement("div",{className:"spinner-border",role:"status"},u.a.createElement("span",{className:"sr-only"},"Loading..."))):u.a.createElement(L.a,{color:"primary",className:"px-4"},u.a.createElement(m.Link,{to:"/"},"Login"))),u.a.createElement(f.a,{xs:"6",className:"text-right"},u.a.createElement(L.a,{color:"link",className:"px-0"},"Forgot password?")))))))))))}}]),a}(i.Component);a.default=I},886:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return s});var n="http://school.mictronicx.com/backend/public/api/",s="http://school.mictronicx.com/backend/public/"},887:function(e,a,t){"use strict";t.d(a,"a",function(){return o});var n=t(888),s=t.n(n),r=t(886);function o(e,a,t){console.log(r.a+e);var n=localStorage.getItem("token");return console.log(n),console.log("bearer ".concat(n)),"get"===a||"Get"===a||"delete"===a||"Delete"===a?s()({method:a,url:r.a+e,params:t,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}}):s()({method:a,url:r.a+e,data:t,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}})}},889:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",function(){return n})},903:function(e,a,t){"use strict";var n=t(35),s=t(100),r=t(897),o=t(3),l=t.n(o),c=t(112),i=t.n(c),u=t(884),m=t.n(u),d=t(885),p=t(898),f={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:d.l,transition:i.a.shape(p.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(r.a)({},p.a.defaultProps,{unmountOnExit:!0})};function g(e){var a=e.className,t=e.closeClassName,o=e.closeAriaLabel,c=e.cssModule,i=e.tag,u=e.color,f=e.isOpen,b=e.toggle,g=e.children,h=e.transition,E=e.fade,j=e.innerRef,O=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),N=Object(d.h)(m()(a,"alert","alert-"+u,{"alert-dismissible":b}),c),y=Object(d.h)(m()("close",t),c),v=Object(r.a)({},p.a.defaultProps,h,{baseClass:E?h.baseClass:"",timeout:E?h.timeout:0});return l.a.createElement(p.a,Object(n.a)({},O,v,{tag:i,className:N,in:f,role:"alert",innerRef:j}),b?l.a.createElement("button",{type:"button",className:y,"aria-label":o,onClick:b},l.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,g)}g.propTypes=f,g.defaultProps=b,a.a=g},953:function(e,a,t){"use strict";var n=t(35),s=t(100),r=t(3),o=t.n(r),l=t(112),c=t.n(l),i=t(884),u=t.n(i),m=t(885),d={tag:m.l,inverse:c.a.bool,color:c.a.string,body:c.a.bool,outline:c.a.bool,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var a=e.className,t=e.cssModule,r=e.color,l=e.body,c=e.inverse,i=e.outline,d=e.tag,p=e.innerRef,f=Object(s.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),b=Object(m.h)(u()(a,"card",!!c&&"text-white",!!l&&"card-body",!!r&&(i?"border":"bg")+"-"+r),t);return o.a.createElement(d,Object(n.a)({},f,{className:b,ref:p}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},954:function(e,a,t){"use strict";var n=t(35),s=t(100),r=t(3),o=t.n(r),l=t(112),c=t.n(l),i=t(884),u=t.n(i),m=t(885),d={tag:m.l,className:c.a.string,cssModule:c.a.object,innerRef:c.a.oneOfType([c.a.object,c.a.string,c.a.func])},p=function(e){var a=e.className,t=e.cssModule,r=e.innerRef,l=e.tag,c=Object(s.a)(e,["className","cssModule","innerRef","tag"]),i=Object(m.h)(u()(a,"card-body"),t);return o.a.createElement(l,Object(n.a)({},c,{className:i,ref:r}))};p.propTypes=d,p.defaultProps={tag:"div"},a.a=p},999:function(e,a,t){"use strict";var n=t(35),s=t(100),r=t(890),o=t(63),l=t(3),c=t.n(l),i=t(112),u=t.n(i),m=t(884),d=t.n(m),p=t(885),f={children:u.a.node,inline:u.a.bool,tag:p.l,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},b=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(r.a)(t)),t.submit=t.submit.bind(Object(r.a)(t)),t}Object(o.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,r=e.inline,o=e.tag,l=e.innerRef,i=Object(s.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.h)(d()(a,!!r&&"form-inline"),t);return c.a.createElement(o,Object(n.a)({},i,{ref:l,className:u}))},a}(l.Component);b.propTypes=f,b.defaultProps={tag:"form"},a.a=b}}]);
//# sourceMappingURL=19.22e51377.chunk.js.map