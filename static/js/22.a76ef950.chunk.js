(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1186:function(e,t,a){"use strict";a.r(t);var s=a(889),n=a(227),r=a(228),l=a(230),c=a(229),o=a(231),i=a(3),u=a.n(i),m=a(895),d=a(896),p=a(887),b=a(904),h=a.n(b),f=a(894),g=a(903),v=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={circular:null,id:"",title:"",classArray:[],description:"",errorText:""},a.handleChange=function(e){var t;console.log(e.target.name,e.target.value),a.setState((t={},Object(s.a)(t,e.target.name,e.target.value),Object(s.a)(t,"errorText",""),Object(s.a)(t,e.target.name+"Error",""),Object(s.a)(t,"success",!1),t))},a.submit=function(e){e.preventDefault();var t=!0;if(""==a.state.title&&(a.setState({titleError:"* Title cannot be empty"}),t=!1),""==a.state.description&&(a.setState({descriptionError:"* Description cannot be empty"}),t=!1),t){var s={title:a.state.title,details:a.state.description,circularFor:a.state.classes,circularDate:a.state.date};Object(p.a)("circular/"+a.state.id,"post",s).then(function(e){console.log(e),a.setState({loading:!1,success:!0})}).catch(function(e){console.log(e),a.setState({loading:!1}),e.response?(console.log(e.response),a.setState({errorText:e.response.data.message})):a.setState({errorText:"* Network Error"})})}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(p.a)("class","get").then(function(t){console.log(t.data),e.setState({classArray:t.data.class})}).catch(function(e){console.log(e.response)}),Object(p.a)("circular/"+this.props.match.params.circularId,"get").then(function(t){console.log(t.data);var a=t.data.circular;e.setState({circular:a,id:a.id,title:a.title,date:h()(new Date(a.circularDate)).format("YYYY-MM-DD"),description:a.details}),a.class_id?e.setState({classes:a.class_id}):e.setState({classes:a.class})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){return console.log(this.state.circular),u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement("div",{className:"card"},u.a.createElement("form",{className:"form card-body"},u.a.createElement(m.a,{Label:"Title :",forLabel:"title",type:"text",name:"title",value:this.state.title,onChange:this.handleChange,placeHolder:"Chemistry"}),u.a.createElement("small",{style:{color:"#f86c6b"}},this.state.titleError),u.a.createElement(m.a,{Label:"Date :",forLabel:"dateTeacher",type:"date",name:"date",value:this.state.date,onChange:this.handleChange,placeHolder:""}),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-12 formInput"},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{htmlFor:"sel1"},"Class :"),u.a.createElement("select",{className:"form-control select py-2 px-3",id:"sel1",name:"classes",value:this.state.classes,onChange:this.handleChange},u.a.createElement("option",{value:"All"},"All"),this.state.classArray.map(function(e){return u.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col-sm-12 formInput",cols:""},u.a.createElement("label",{htmlFor:"description"},"Description :"),u.a.createElement("textarea",{value:this.state.description,onChange:this.handleChange,name:"description",placeholder:"Describe Yourself...",className:"p-3",rows:"5"}),u.a.createElement("small",{style:{color:"#f86c6b"}},this.state.descriptionError))),""!=this.state.errorText&&u.a.createElement(g.a,{color:"danger",className:"mt-3"},this.state.errorText),this.state.success&&u.a.createElement(g.a,{color:"success",className:"mt-3"},"Data successfully submitted."),this.state.loading?u.a.createElement(f.a,null):u.a.createElement(d.a,{onClick:this.submit}))))}}]),t}(i.Component);t.default=v},886:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s="http://school.mictronicx.com/backend/public/api/",n="http://school.mictronicx.com/backend/public/"},887:function(e,t,a){"use strict";a.d(t,"a",function(){return l});var s=a(888),n=a.n(s),r=a(886);function l(e,t,a){console.log(r.a+e);var s=localStorage.getItem("token");return console.log(s),console.log("bearer ".concat(s)),"get"===t||"Get"===t||"delete"===t||"Delete"===t?n()({method:t,url:r.a+e,params:a,headers:{Authorization:"Bearer ".concat(s)},config:{headers:{"Content-Type":"application/json"}}}):n()({method:t,url:r.a+e,data:a,headers:{Authorization:"Bearer ".concat(s)},config:{headers:{"Content-Type":"application/json"}}})}},889:function(e,t,a){"use strict";function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",function(){return s})},894:function(e,t,a){"use strict";var s=a(3),n=a.n(s);t.a=function(e){return n.a.createElement("div",{className:"submitButton"},n.a.createElement("button",{className:"btn-primary px-5 py-3 ml-2"},n.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))))}},895:function(e,t,a){"use strict";var s=a(3),n=a.n(s);t.a=function(e){var t=e.forlabel,a=e.Label,s=e.placeHolder,r=e.type,l=e.value,c=e.name,o=e.onChange;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 formInput"},n.a.createElement("label",{htmlFor:t,className:"semi-bold"}," ",a," "),n.a.createElement("input",{type:r,name:c,placeholder:s,defaultValue:l,onChange:o,className:"py-2 px-3"})))}},896:function(e,t,a){"use strict";var s=a(3),n=a.n(s);t.a=function(e){var t=e.onClick;return n.a.createElement("div",{className:"submitButton"},n.a.createElement("button",{type:"submit",className:"btn-primary px-5 py-3 ml-2",onClick:t},"Submit"))}},903:function(e,t,a){"use strict";var s=a(35),n=a(100),r=a(897),l=a(3),c=a.n(l),o=a(112),i=a.n(o),u=a(884),m=a.n(u),d=a(885),p=a(898),b={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:d.l,transition:i.a.shape(p.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(r.a)({},p.a.defaultProps,{unmountOnExit:!0})};function f(e){var t=e.className,a=e.closeClassName,l=e.closeAriaLabel,o=e.cssModule,i=e.tag,u=e.color,b=e.isOpen,h=e.toggle,f=e.children,g=e.transition,v=e.fade,E=e.innerRef,y=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),N=Object(d.h)(m()(t,"alert","alert-"+u,{"alert-dismissible":h}),o),C=Object(d.h)(m()("close",a),o),O=Object(r.a)({},p.a.defaultProps,g,{baseClass:v?g.baseClass:"",timeout:v?g.timeout:0});return c.a.createElement(p.a,Object(s.a)({},y,O,{tag:i,className:N,in:b,role:"alert",innerRef:E}),h?c.a.createElement("button",{type:"button",className:C,"aria-label":l,onClick:h},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,f)}f.propTypes=b,f.defaultProps=h,t.a=f}}]);
//# sourceMappingURL=22.a76ef950.chunk.js.map