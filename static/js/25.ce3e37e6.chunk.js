(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1191:function(e,a,t){"use strict";t.r(a);var n=t(889),s=t(227),l=t(228),r=t(230),o=t(229),c=t(231),i=t(3),m=t.n(i),u=t(895),d=t(896),p=t(887),g=t(904),h=t.n(g),b=t(886),f=t(894),E=t(903),v=function(e){function a(){var e,t;Object(s.a)(this,a);for(var l=arguments.length,c=new Array(l),i=0;i<l;i++)c[i]=arguments[i];return(t=Object(r.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={news:null,id:"",title:"",classArray:[],description:"",errorText:"",Image:null,ImageData:null,loading:!0},t.handleChange=function(e){var a;console.log(e.target.name,e.target.value),t.setState((a={},Object(n.a)(a,e.target.name,e.target.value),Object(n.a)(a,"errorText",""),Object(n.a)(a,e.target.name+"Error",""),Object(n.a)(a,"success",!1),a))},t.handleImage=function(e){console.log(e.target.files),t.setState({Image:e.target.files[0]})},t.submit=function(e){e.preventDefault();var a=!0;if(""==t.state.title&&(t.setState({titleError:"* Title cannot be empty"}),a=!1),""==t.state.description&&(t.setState({descriptionError:"* Description cannot be empty"}),a=!1),a){var n=new FormData;t.state.Image&&n.append("image",t.state.Image),n.append("newsFor",t.state.classes),n.append("NewsDate",t.state.date),n.append("title",t.state.title),n.append("body",t.state.description),t.setState({loading:!0}),Object(p.a)("news/"+t.state.id,"post",n).then(function(e){console.log(e),t.setState({loading:!1,success:!0}),t.componentDidMount()}).catch(function(e){console.log(e),t.setState({loading:!1}),e.response?(console.log(e.response),t.setState({errorText:e.response.data.message})):t.setState({errorText:"* Network Error"})})}},t}return Object(c.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;Object(p.a)("class","get").then(function(a){console.log(a.data),e.setState({classArray:a.data.class})}).catch(function(e){console.log(e.response)}),Object(p.a)("news/"+this.props.match.params.newsId,"get").then(function(a){console.log(a.data);var t=a.data.news;e.setState({news:t,id:t.id,title:t.title,date:h()(new Date(t.Newsdate)).format("YYYY-MM-DD"),description:t.body,loading:!1}),t.image&&e.setState({ImageData:t.image}),t.class_id?e.setState({classes:t.class_id}):e.setState({classes:t.class})}).catch(function(e){console.log(e.response)})}},{key:"render",value:function(){return this.state.loading?m.a.createElement("p",null,"loading..."):m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement("div",{className:"card "},m.a.createElement("form",{className:"form card-body"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:" col-md-6 col-sm-12"},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"Change Image : "),m.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1",name:"FImage",onChange:this.handleImage,defaultValue:this.state.Image})))),null!==this.state.ImageData&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:" col-6 col-sm-3 "},m.a.createElement("img",{src:b.b+this.state.ImageData,style:{height:150}}))),m.a.createElement("hr",null)),m.a.createElement(u.a,{Label:"Title :",forLabel:"title",type:"text",placeHolder:"Holiday",name:"title",value:this.state.title,onChange:this.handleChange}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.titleError),m.a.createElement(u.a,{Label:"Date :",forLabel:"dateTeacher",type:"date",name:"date",value:this.state.date,onChange:this.handleChange,placeHolder:""}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 formInput"},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"sel1"},"Class :"),m.a.createElement("select",{className:"form-control select",id:"sel1",name:"classes",value:this.state.classes,onChange:this.handleChange},m.a.createElement("option",{value:"All"},"All"),this.state.classArray.map(function(e){return m.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 formInput",cols:""},m.a.createElement("label",{htmlFor:"description"},"Details :"),m.a.createElement("textarea",{placeholder:"Describe News...",className:"p-3",rows:"5",value:this.state.description,onChange:this.handleChange,name:"description"}))),""!=this.state.errorText&&m.a.createElement(E.a,{color:"danger",className:"mt-3"},this.state.errorText),this.state.success&&m.a.createElement(E.a,{color:"success",className:"mt-3"},"Data successfully submitted."),this.state.loading?m.a.createElement(f.a,null):m.a.createElement(d.a,{onClick:this.submit}))))}}]),a}(i.Component);a.default=v},886:function(e,a,t){"use strict";t.d(a,"a",function(){return n}),t.d(a,"b",function(){return s});var n="http://school.mictronicx.com/backend/public/api/",s="http://school.mictronicx.com/backend/public/"},887:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t(888),s=t.n(n),l=t(886);function r(e,a,t){console.log(l.a+e);var n=localStorage.getItem("token");return console.log(n),console.log("bearer ".concat(n)),"get"===a||"Get"===a||"delete"===a||"Delete"===a?s()({method:a,url:l.a+e,params:t,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}}):s()({method:a,url:l.a+e,data:t,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}})}},889:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",function(){return n})},894:function(e,a,t){"use strict";var n=t(3),s=t.n(n);a.a=function(e){return s.a.createElement("div",{className:"submitButton"},s.a.createElement("button",{className:"btn-primary px-5 py-3 ml-2"},s.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},s.a.createElement("span",{className:"sr-only"},"Loading..."))))}},895:function(e,a,t){"use strict";var n=t(3),s=t.n(n);a.a=function(e){var a=e.forlabel,t=e.Label,n=e.placeHolder,l=e.type,r=e.value,o=e.name,c=e.onChange;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 formInput"},s.a.createElement("label",{htmlFor:a,className:"semi-bold"}," ",t," "),s.a.createElement("input",{type:l,name:o,placeholder:n,defaultValue:r,onChange:c,className:"py-2 px-3"})))}},896:function(e,a,t){"use strict";var n=t(3),s=t.n(n);a.a=function(e){var a=e.onClick;return s.a.createElement("div",{className:"submitButton"},s.a.createElement("button",{type:"submit",className:"btn-primary px-5 py-3 ml-2",onClick:a},"Submit"))}},903:function(e,a,t){"use strict";var n=t(35),s=t(100),l=t(897),r=t(3),o=t.n(r),c=t(112),i=t.n(c),m=t(884),u=t.n(m),d=t(885),p=t(898),g={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:d.l,transition:i.a.shape(p.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},h={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(l.a)({},p.a.defaultProps,{unmountOnExit:!0})};function b(e){var a=e.className,t=e.closeClassName,r=e.closeAriaLabel,c=e.cssModule,i=e.tag,m=e.color,g=e.isOpen,h=e.toggle,b=e.children,f=e.transition,E=e.fade,v=e.innerRef,N=Object(s.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),y=Object(d.h)(u()(a,"alert","alert-"+m,{"alert-dismissible":h}),c),C=Object(d.h)(u()("close",t),c),w=Object(l.a)({},p.a.defaultProps,f,{baseClass:E?f.baseClass:"",timeout:E?f.timeout:0});return o.a.createElement(p.a,Object(n.a)({},N,w,{tag:i,className:y,in:g,role:"alert",innerRef:v}),h?o.a.createElement("button",{type:"button",className:C,"aria-label":r,onClick:h},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,b)}b.propTypes=g,b.defaultProps=h,a.a=b}}]);
//# sourceMappingURL=25.ce3e37e6.chunk.js.map