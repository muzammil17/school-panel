(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1162:function(e,t,a){"use strict";a.r(t);var n=a(889),c=a(227),r=a(228),s=a(230),l=a(229),o=a(231),i=a(3),m=a.n(i),u=a(900),h=(a(899),a(232)),d=(a(888),a(1011)),g=a(997),v=a(998),p=a(958),E=a(959),f=a(1009),b=a(1010),N=a(917),y=a(913),S=a(914),C=a(915),k=a(907),w=a(887),T=function(e){function t(){var e,a;Object(c.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={upcoming:[],previous:[],searchString:"",searchStringPrevious:"",activeTab:new Array(4).fill("1")},a.handleChangeSearch=function(e){a.setState(Object(n.a)({},e.target.name,e.target.value))},a.toggleInfo=function(e){a.setState({info:!a.state.info,deleteItem:e})},a.delete=function(){a.setState({loading:!0}),Object(w.a)("event/"+a.state.deleteItem,"delete").then(function(e){console.log(e),a.setState({info:!1,loading:!1}),a.componentDidMount()}).catch(function(e){console.log("error "+e),a.setState({loading:!1})})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(w.a)("events","get").then(function(t){console.log(t.data),e.setState({upcoming:t.data.events.upcoming,previous:t.data.events.previous})}).catch(function(e){console.log(e.response)})}},{key:"toggle",value:function(e,t){var a=this.state.activeTab.slice();a[e]=t,this.setState({activeTab:a})}},{key:"tabPane",value:function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.a,{tabId:"1"},this.upcoming()),m.a.createElement(d.a,{tabId:"2"},this.previous()))}},{key:"upcoming",value:function(){var e=this,t=[{Header:"Date",accessor:"Edate"},{Header:"Title",accessor:"name"},{Header:"Venue",accessor:"venue"},{Header:"Actions",accessor:"id",Cell:function(t){return m.a.createElement("span",{className:""},m.a.createElement(h.Link,{to:{pathname:"viewEvent/"+t.value}},m.a.createElement("button",{className:"btn btn-primary"},m.a.createElement("i",{class:"icon-file-text"}))),m.a.createElement(h.Link,{to:{pathname:"/editEvent/"+t.value,state:{search:t.value}}},m.a.createElement("button",{className:"btn btn-success ml-2"},m.a.createElement("i",{class:"icon-pencil"}))),m.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return e.toggleInfo(t.value)}},m.a.createElement("i",{class:"icon-trash"})))}}],a=this.state.upcoming,n=this.state.searchString.trim().toLowerCase();return n.length>0&&(a=this.state.upcoming.filter(function(e){return e.name.toLowerCase().match(n)})),m.a.createElement("div",{className:"card-body "},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-5 offset-md-7 col-sm-12"},m.a.createElement("div",{className:"showComponentSearchBox"},m.a.createElement("input",{type:"text",placeholder:"Search by title",className:"float-left py-1 px-2",name:"searchString",value:this.state.searchString,onChange:this.handleChangeSearch}),m.a.createElement("button",{className:"btn btn-primary float-right py-1"},m.a.createElement("i",{class:"icon-search mr-2"}))))),m.a.createElement(u.a,{columns:t,data:a,defaultPageSize:5,noDataText:"",className:"mt-5"}))}},{key:"previous",value:function(){var e=this,t=[{Header:"Date",accessor:"Edate"},{Header:"Title",accessor:"name"},{Header:"Venue",accessor:"venue"},{Header:"Actions",accessor:"id",Cell:function(t){return m.a.createElement("span",{className:""},m.a.createElement(h.Link,{to:{pathname:"viewEvent/"+t.value}},m.a.createElement("button",{className:"btn btn-primary"},m.a.createElement("i",{class:"icon-file-text"}))),m.a.createElement(h.Link,{to:{pathname:"/editEvent/"+t.value,state:{search:t.value}}},m.a.createElement("button",{className:"btn btn-success ml-2"},m.a.createElement("i",{class:"icon-pencil"}))),m.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return e.toggleInfo(t.value)}},m.a.createElement("i",{class:"icon-trash"})))}}],a=this.state.previous,n=this.state.searchStringPrevious.trim().toLowerCase();return n.length>0&&(a=this.state.previous.filter(function(e){return e.name.toLowerCase().match(n)})),m.a.createElement("div",{className:"card-body "},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-5 offset-md-7 col-sm-12"},m.a.createElement("div",{className:"showComponentSearchBox"},m.a.createElement("input",{type:"text",placeholder:"Search by title",className:"float-left py-1 px-2",name:"searchStringPrevious",value:this.state.searchStringPrevious,onChange:this.handleChangeSearch}),m.a.createElement("button",{className:"btn btn-primary float-right py-1"},m.a.createElement("i",{class:"icon-search mr-2"}))))),m.a.createElement(u.a,{columns:t,data:a,defaultPageSize:5,noDataText:"",className:"mt-5"}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement("div",{className:"border bg-white"},m.a.createElement("div",{className:"card "},m.a.createElement("div",{className:"card-header"},m.a.createElement("h3",null,"EVENTS"))),m.a.createElement(g.a,null,m.a.createElement(v.a,{xs:"12",md:"12",className:"mb-4"},m.a.createElement(p.a,{tabs:!0},m.a.createElement(E.a,null,m.a.createElement(f.a,{active:"1"===this.state.activeTab[0],onClick:function(){e.toggle(0,"1")}},"Upcoming")),m.a.createElement(E.a,null,m.a.createElement(f.a,{active:"2"===this.state.activeTab[0],onClick:function(){e.toggle(0,"2")}},"Previous"))),m.a.createElement(b.a,{activeTab:this.state.activeTab[0]},this.tabPane()))),m.a.createElement(N.a,{isOpen:this.state.info,toggle:this.toggleInfo,className:"modal-info "+this.props.className},m.a.createElement(y.a,{toggle:this.toggleInfo},"Modal title"),m.a.createElement(S.a,null,"Are you sure you want to delete this?"),m.a.createElement(C.a,null,this.state.loading?m.a.createElement(k.a,{color:"primary "},m.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},m.a.createElement("span",{className:"sr-only"},"Loading..."))):m.a.createElement(k.a,{color:"primary",onClick:this.delete},"Delete"),m.a.createElement(k.a,{color:"secondary",onClick:this.toggleInfo},"Cancel")))))}}]),t}(i.Component);t.default=T},886:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return c});var n="http://school.mictronicx.com/backend/public/api/",c="http://school.mictronicx.com/backend/public/"},887:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(888),c=a.n(n),r=a(886);function s(e,t,a){console.log(r.a+e);var n=localStorage.getItem("token");return console.log(n),console.log("bearer ".concat(n)),"get"===t||"Get"===t||"delete"===t||"Delete"===t?c()({method:t,url:r.a+e,params:a,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}}):c()({method:t,url:r.a+e,data:a,headers:{Authorization:"Bearer ".concat(n)},config:{headers:{"Content-Type":"application/json"}}})}}}]);
//# sourceMappingURL=38.98ee3954.chunk.js.map