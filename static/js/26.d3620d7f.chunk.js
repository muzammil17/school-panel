(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1192:function(e,a,t){"use strict";t.r(a);var r=t(889),n=t(227),s=t(228),l=t(230),o=t(229),c=t(231),i=t(3),m=t.n(i),d=t(895),u=t(896),p=t(894),h=t(887),g=t(903),b=t(886),E=function(e){function a(){var e,t;Object(n.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(t=Object(l.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(c)))).state={FatherName:"",ContactNo:"",Address:"",PermanentAddress:"",FCNIC:"",Email:"",FImage:null,FOccupation:"",FatherNameError:"",ContactNoError:"",AddressError:"",PermanentAddressError:"",FCNICError:"",EmailError:"",FOccupationError:"",loading:!1,success:!1,errorText:"",parentData:null,FImageData:null},t.handleChange=function(e){var a;t.setState((a={},Object(r.a)(a,e.target.name,e.target.value),Object(r.a)(a,"errorText",""),Object(r.a)(a,e.target.name+"Error",""),Object(r.a)(a,"success",!1),a))},t.handleImage=function(e){console.log(e.target.files),t.setState({FImage:e.target.files[0]})},t.submitButton=function(e){e.preventDefault(),console.log("hello");var a=!0;if(""===t.state.FatherName&&(t.setState({FatherNameError:"* Father name is required"}),a=!1),""===t.state.ContactNo&&(t.setState({ContactNoError:"* Contact number is required"}),a=!1),""===t.state.Address&&(t.setState({AddressError:"* Address is required"}),a=!1),""===t.state.PermanentAddress&&(t.setState({PermanentAddressError:"* Permanent Address is required"}),a=!1),""===t.state.Email&&(t.setState({EmailError:"* Email is required"}),a=!1),""===t.state.FCNIC&&(t.setState({FCNICError:"* Father CNIC is required"}),a=!1),""===t.state.FOccupation&&(t.setState({FOccupationError:"* Father Occupation is required"}),a=!1),console.log(a,t.state.FImage),a){var n=new FormData;n.append("FatherName",t.state.FatherName),n.append("Address",t.state.Address),n.append("ContactNo",t.state.ContactNo),n.append("PermanentAddress",t.state.PermanentAddress),n.append("Email",t.state.Email),n.append("FCNIC",t.state.FCNIC),n.append("FOccupation",t.state.FOccupation),null!==t.state.FImage&&void 0!==t.state.FImage&&n.append("FImage",t.state.FImage),t.setState({loading:!0});var s=t.props.match.params.parentId,l=!0,o=!1,c=void 0;try{for(var i,m=n.values()[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;console.log(d)}}catch(u){o=!0,c=u}finally{try{l||null==m.return||m.return()}finally{if(o)throw c}}Object(h.a)("parents/".concat(s),"post",n).then(function(e){if(console.log(e),"fail"!==e.data.status)t.setState({loading:!1,success:!0}),t.componentDidMount();else{var a=e.data.message;Object.keys(a).map(function(e){var n;t.setState((n={},Object(r.a)(n,"".concat(e,"Error"),a[e]),Object(r.a)(n,"loading",!1),n))})}}).catch(function(e){console.log(e),console.log(e.response),t.setState({loading:!1}),e.response?t.setState({errorText:e.response.data.message}):t.setState({errorText:"* Network error"})})}},t}return Object(c.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.props.match.params.parentId;Object(h.a)("parents/"+a,"get").then(function(a){console.log(a),e.setState({parentData:a.data.parents,FatherName:a.data.parents.FatherName,ContactNo:a.data.parents.ContactNo,Address:a.data.parents.Address,PermanentAddress:a.data.parents.PermanentAddress,FCNIC:a.data.parents.FCNIC,Email:a.data.parents.Email,FOccupation:a.data.parents.FOccupation,loading:!1}),a.data.parents.FImage&&e.setState({FImageData:a.data.parents.FImage})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return null===this.state.parentData?m.a.createElement("h2",null,"Loading"):m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement("div",{className:"card "},m.a.createElement("form",{className:"form card-body"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:" col-md-6 col-sm-12"},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"exampleFormControlFile1"},"Change Image : "),m.a.createElement("input",{type:"file",className:"form-control-file",id:"exampleFormControlFile1",name:"FImage",onChange:this.handleImage,defaultValue:this.state.FImage})))),null!==this.state.FImageData&&m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:" col-6 col-sm-3 "},m.a.createElement("img",{src:b.b+this.state.FImageData,style:{height:150}}))),m.a.createElement("hr",null)),m.a.createElement(d.a,{type:"text",labelFor:"fatherName",Label:"Name :",onChange:this.handleChange,placeHolder:"Father Name",name:"FatherName",value:this.state.FatherName}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.FatherNameError),m.a.createElement(d.a,{value:this.state.ContactNo,type:"tel",labelFor:"number",Label:"Contact No :",onChange:this.handleChange,placeHolder:"034512345678",name:"ContactNo"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.ContactNoError),m.a.createElement(d.a,{value:this.state.Address,type:"text",labelFor:"address",Label:"Address : ",onChange:this.handleChange,placeHolder:"street 4",name:"Address"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.AddressError),m.a.createElement(d.a,{value:this.state.PermanentAddress,type:"text",labelFor:"permanentAddress",Label:"Permanent Address : ",onChange:this.handleChange,placeHolder:"street 4",name:"PermanentAddress"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.PermanentAddressError),m.a.createElement(d.a,{value:this.state.FCNIC,type:"text",labelFor:"cnic",Label:"Father CNIC : ",onChange:this.handleChange,placeHolder:"42201-12121212-1",name:"FCNIC"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.FCNICError),m.a.createElement(d.a,{value:this.state.Email,type:"main",labelFor:"main",Label:"Email : ",onChange:this.handleChange,placeHolder:"example123@gmail.com",name:"Email"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.EmailError),m.a.createElement(d.a,{value:this.state.FOccupation,type:"text",labelFor:"fatherOccupation",Label:"Father Occupation : ",onChange:this.handleChange,placeHolder:"Buisness man",name:"FOccupation"}),m.a.createElement("small",{style:{color:"#f86c6b"}},this.state.FOccupationError),""!==this.state.errorText&&m.a.createElement(g.a,{color:"danger",className:"mt-3"},this.state.errorText),this.state.success&&m.a.createElement(g.a,{color:"success",className:"mt-3"},"Data successfully submitted"),this.state.loading?m.a.createElement(p.a,null):m.a.createElement(u.a,{onClick:this.submitButton}))))}}]),a}(i.Component);a.default=E},886:function(e,a,t){"use strict";t.d(a,"a",function(){return r}),t.d(a,"b",function(){return n});var r="http://school.mictronicx.com/backend/public/api/",n="http://school.mictronicx.com/backend/public/"},887:function(e,a,t){"use strict";t.d(a,"a",function(){return l});var r=t(888),n=t.n(r),s=t(886);function l(e,a,t){console.log(s.a+e);var r=localStorage.getItem("token");return console.log(r),console.log("bearer ".concat(r)),"get"===a||"Get"===a||"delete"===a||"Delete"===a?n()({method:a,url:s.a+e,params:t,headers:{Authorization:"Bearer ".concat(r)},config:{headers:{"Content-Type":"application/json"}}}):n()({method:a,url:s.a+e,data:t,headers:{Authorization:"Bearer ".concat(r)},config:{headers:{"Content-Type":"application/json"}}})}},889:function(e,a,t){"use strict";function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",function(){return r})},894:function(e,a,t){"use strict";var r=t(3),n=t.n(r);a.a=function(e){return n.a.createElement("div",{className:"submitButton"},n.a.createElement("button",{className:"btn-primary px-5 py-3 ml-2"},n.a.createElement("div",{className:"spinner-border spinner-border-sm",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))))}},895:function(e,a,t){"use strict";var r=t(3),n=t.n(r);a.a=function(e){var a=e.forlabel,t=e.Label,r=e.placeHolder,s=e.type,l=e.value,o=e.name,c=e.onChange;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-12 formInput"},n.a.createElement("label",{htmlFor:a,className:"semi-bold"}," ",t," "),n.a.createElement("input",{type:s,name:o,placeholder:r,defaultValue:l,onChange:c,className:"py-2 px-3"})))}},896:function(e,a,t){"use strict";var r=t(3),n=t.n(r);a.a=function(e){var a=e.onClick;return n.a.createElement("div",{className:"submitButton"},n.a.createElement("button",{type:"submit",className:"btn-primary px-5 py-3 ml-2",onClick:a},"Submit"))}},903:function(e,a,t){"use strict";var r=t(35),n=t(100),s=t(897),l=t(3),o=t.n(l),c=t(112),i=t.n(c),m=t(884),d=t.n(m),u=t(885),p=t(898),h={children:i.a.node,className:i.a.string,closeClassName:i.a.string,closeAriaLabel:i.a.string,cssModule:i.a.object,color:i.a.string,fade:i.a.bool,isOpen:i.a.bool,toggle:i.a.func,tag:u.l,transition:i.a.shape(p.a.propTypes),innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},g={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:Object(s.a)({},p.a.defaultProps,{unmountOnExit:!0})};function b(e){var a=e.className,t=e.closeClassName,l=e.closeAriaLabel,c=e.cssModule,i=e.tag,m=e.color,h=e.isOpen,g=e.toggle,b=e.children,E=e.transition,f=e.fade,C=e.innerRef,F=Object(n.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),N=Object(u.h)(d()(a,"alert","alert-"+m,{"alert-dismissible":g}),c),v=Object(u.h)(d()("close",t),c),y=Object(s.a)({},p.a.defaultProps,E,{baseClass:f?E.baseClass:"",timeout:f?E.timeout:0});return o.a.createElement(p.a,Object(r.a)({},F,y,{tag:i,className:N,in:h,role:"alert",innerRef:C}),g?o.a.createElement("button",{type:"button",className:v,"aria-label":l,onClick:g},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,b)}b.propTypes=h,b.defaultProps=g,a.a=b}}]);
//# sourceMappingURL=26.d3620d7f.chunk.js.map