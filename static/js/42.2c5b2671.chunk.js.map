{"version":3,"sources":["views/mainData/viewPages/viewNews.js","views/utils/Constants.js","views/common/Api.js"],"names":["ViewNews","state","data","loading","_this2","this","console","log","props","match","Api","params","newsId","then","response","setState","news","id","catch","error","_this$state","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","className","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","color","to","pathname","search","image","Fragment","src","serverUrlImage","style","height","title","class","classes","name","body","Component","__webpack_require__","d","__webpack_exports__","serverUrl","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_utils_Constants__WEBPACK_IMPORTED_MODULE_1__","url","method","token","localStorage","getItem","concat","axios","headers","Authorization","config","Content-Type"],"mappings":"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","file":"static/js/42.2c5b2671.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Api } from \"../../common/Api\";\r\nimport { serverUrlImage } from \"../../utils/Constants\";\r\n\r\nclass ViewNews extends Component{\r\n  state = {\r\n    data: {},\r\n    loading: true,\r\n  };\r\n  componentDidMount(){\r\n    console.log(this.props.match);\r\n    \r\n    Api('news/'+this.props.match.params.newsId, 'get')\r\n      .then(response=>{\r\n        console.log(response.data);\r\n        this.setState({\r\n          data: response.data.news,\r\n          id: response.data.news.id,\r\n          loading: false\r\n        })\r\n      })\r\n      .catch(error=>{\r\n        console.log(error.response);\r\n      }) \r\n  }\r\n  render(){\r\n    const { data, loading } = this.state;\r\n    if (loading) {\r\n      return <p>loading...</p>;\r\n    }\r\n  return (\r\n    <div className=\"animated fadeIn\">\r\n      <div className=\"card \">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"float-left\">NEWS</h2>\r\n          <span className=\"float-right mt-2\">\r\n            <Link color=\"primary\" to={{\r\n                pathname: '/editNews/' + this.state.id, state: {\r\n                search: this.state.id\r\n                }\r\n            }}>Edit</Link>\r\n          </span>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {data.image  && (\r\n              <React.Fragment>\r\n                <div className=\"row\">\r\n                  <div className=\" col-6 col-sm-3 \">\r\n                    <img src={serverUrlImage + data.image} style={{height: 150}} />\r\n                  </div>\r\n                  {/* <div className=\"col-sm-4 col-8\">\r\n                    <span className=\"float-left \">abc.png</span>\r\n                  </div> */}\r\n                </div>\r\n                <hr></hr>\r\n              </React.Fragment>\r\n            )}\r\n          <div className=\"row\">\r\n            <div className=\" col-6 col-sm-3 \">\r\n              <span className=\"bold\">Title</span>\r\n            </div>\r\n            <div className=\"col-sm-4 col-8\">\r\n              <span className=\"float-left \">{data.title}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <hr></hr>\r\n\r\n          <div className=\"row\">\r\n            <div className=\" col-6 col-sm-3 \">\r\n              <span className=\"bold\">Class</span>\r\n            </div>\r\n            <div className=\"col-sm-4 col-8\">\r\n              <span className=\"float-left \">{data ? data.class != 'All' ? data.classes.name : 'All' : ''}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <hr></hr>\r\n\r\n          <div className=\"row\">\r\n            <div className=\" col-6 col-sm-3 \">\r\n              <span className=\"bold\">Description</span>\r\n            </div>\r\n            <div className=\"col-sm-4 col-8\">\r\n              <span className=\"float-left \">{data.body}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n}\r\n\r\nexport default ViewNews;\r\n","export const serverUrl = \"http://school.mictronicx.com/backend/public/api/\";\r\n\r\nexport const serverUrlImage = \"http://school.mictronicx.com/backend/public/\";","import axios from \"axios\";\r\nimport { serverUrl } from \"../utils/Constants\";\r\n\r\nfunction Api(url, method, data) {\r\n  console.log(serverUrl + url);\r\n  var token = localStorage.getItem(\"token\");\r\n  console.log(token);\r\n  console.log(`bearer ${token}`);\r\n  if (\r\n    method === \"get\" ||\r\n    method === \"Get\" ||\r\n    method === \"delete\" ||\r\n    method === \"Delete\"\r\n  ) {\r\n    return axios({\r\n      method: method,\r\n      url: serverUrl + url,\r\n      params: data,\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n      config: {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      },\r\n    });\r\n  }\r\n  return axios({\r\n    method: method,\r\n    url: serverUrl + url,\r\n    data: data,\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    config: {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    },\r\n  });\r\n}\r\nexport { Api };\r\n"],"sourceRoot":""}